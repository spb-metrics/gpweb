SET FOREIGN_KEY_CHECKS=0;
UPDATE versao SET versao_codigo='8.0.5'; 
UPDATE versao SET ultima_atualizacao_bd='2011-11-18'; 
UPDATE versao SET ultima_atualizacao_codigo='2011-11-18'; 
UPDATE versao SET versao_bd=85;

ALTER TABLE demandas ADD COLUMN demanda_mensurador INTEGER(100) UNSIGNED DEFAULT NULL;
ALTER TABLE demandas ADD KEY demanda_mensurador (demanda_mensurador);
ALTER TABLE demandas ADD CONSTRAINT demandas_fk5 FOREIGN KEY (demanda_mensurador) REFERENCES usuarios (usuario_id) ON DELETE SET NULL ON UPDATE CASCADE;
ALTER TABLE demandas ADD COLUMN demanda_mensuracao_data DATETIME DEFAULT NULL;

ALTER TABLE pratica_indicador ADD COLUMN pratica_indicador_mediano TINYINT(1) DEFAULT '0';

ALTER TABLE plano_acao_item_gastos ADD COLUMN plano_acao_item_gastos_data_recebido DATE DEFAULT NULL;

DELETE FROM modelos_tipo WHERE modelo_tipo_id>=16 AND modelo_tipo_id<=20;
INSERT INTO modelos_tipo (modelo_tipo_id, modelo_tipo_nome, modelo_tipo_campos, descricao, imagem, organizacao) VALUES 
(16,'Ofício',0x613A393A7B733A353A2263616D706F223B613A31333A7B693A313B613A353A7B733A343A227469706F223B733A393A226361626563616C686F223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A323B613A353A7B733A343A227469706F223B733A393A2270726F746F636F6C6F223B733A353A226461646F73223B733A303A22223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A333B613A353A7B733A343A227469706F223B733A363A22636964616465223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A343B613A353A7B733A343A227469706F223B733A343A2264617461223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A353B613A353A7B733A343A227469706F223B733A31323A22766F63617469766F5F656E64223B733A353A226461646F73223B733A313A2231223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A363B613A353A7B733A343A227469706F223B733A31333A22626C6F636F5F73696D706C6573223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A373B613A353A7B733A343A227469706F223B733A353A22746578746F223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A383B613A353A7B733A343A227469706F223B733A383A22766F63617469766F223B733A353A226461646F73223B733A313A2232223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A393B613A353A7B733A343A227469706F223B733A353A22746578746F223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A31303B613A353A7B733A343A227469706F223B733A353A22626C6F636F223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A31313B613A353A7B733A343A227469706F223B733A353A22666563686F223B733A353A226461646F73223B733A313A2231223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A31323B613A353A7B733A343A227469706F223B733A31303A22617373696E6174757261223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A31333B613A353A7B733A343A227469706F223B733A353A22616E65786F223B733A353A226461646F73223B733A303A22223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D7D733A31313A226D6F64656C6F5F7469706F223B733A323A223136223B733A363A2265646963616F223B623A303B733A393A22696D7072657373616F223B623A303B733A393A226D6F64656C6F5F6964223B693A303B733A393A2270617261677261666F223B693A303B733A31353A226D6F64656C6F5F6461646F735F6964223B693A303B733A363A226D6F64656C6F223B4E3B733A333A22716E74223B693A31333B7D,'Ofício é uma modalidade de comunicação oficial que tem como finalidade o tratamento de assuntos oficiais pelos órgãos da Administração Pública entre si e também com particulares.','oficio_p.gif',10),
(17,'Aviso',0x613A393A7B733A353A2263616D706F223B613A31323A7B693A313B613A353A7B733A343A227469706F223B733A393A2270726F746F636F6C6F223B733A353A226461646F73223B733A303A22223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A323B613A353A7B733A343A227469706F223B733A363A22636964616465223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A333B613A353A7B733A343A227469706F223B733A343A2264617461223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A343B613A353A7B733A343A227469706F223B733A31323A22766F63617469766F5F656E64223B733A353A226461646F73223B733A313A2231223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A353B613A353A7B733A343A227469706F223B733A353A22746578746F223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A363B613A353A7B733A343A227469706F223B733A353A22746578746F223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A373B613A353A7B733A343A227469706F223B733A383A22766F63617469766F223B733A353A226461646F73223B733A313A2232223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A383B613A353A7B733A343A227469706F223B733A353A22746578746F223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A393B613A353A7B733A343A227469706F223B733A353A22626C6F636F223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A31303B613A353A7B733A343A227469706F223B733A353A22666563686F223B733A353A226461646F73223B733A313A2231223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A31313B613A353A7B733A343A227469706F223B733A31303A22617373696E6174757261223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A31323B613A353A7B733A343A227469706F223B733A353A22616E65786F223B733A353A226461646F73223B733A303A22223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D7D733A31313A226D6F64656C6F5F7469706F223B733A323A223137223B733A363A2265646963616F223B623A303B733A393A22696D7072657373616F223B623A303B733A393A226D6F64656C6F5F6964223B693A303B733A393A2270617261677261666F223B693A303B733A31353A226D6F64656C6F5F6461646F735F6964223B693A303B733A363A226D6F64656C6F223B4E3B733A333A22716E74223B693A31323B7D,'Aviso é expedido exclusivamente por Ministros de Estado, para autoridades de mesma hierarquia, têm como finalidade o tratamento de assuntos oficiais pelos órgãos da Administração Pública entre si.','aviso_p.gif',10),
(18,'Memorando',0x613A393A7B733A353A2263616D706F223B613A383A7B693A313B613A353A7B733A343A227469706F223B733A393A2270726F746F636F6C6F223B733A353A226461646F73223B733A303A22223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A323B613A353A7B733A343A227469706F223B733A363A22636964616465223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A333B613A353A7B733A343A227469706F223B733A343A2264617461223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A343B613A353A7B733A343A227469706F223B733A353A22746578746F223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A353B613A353A7B733A343A227469706F223B733A353A22626C6F636F223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A363B613A353A7B733A343A227469706F223B733A353A22666563686F223B733A353A226461646F73223B733A313A2231223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A373B613A353A7B733A343A227469706F223B733A31303A22617373696E6174757261223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A383B613A353A7B733A343A227469706F223B733A353A22616E65786F223B733A353A226461646F73223B733A303A22223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D7D733A31313A226D6F64656C6F5F7469706F223B733A323A223138223B733A363A2265646963616F223B623A303B733A393A22696D7072657373616F223B623A303B733A393A226D6F64656C6F5F6964223B693A303B733A393A2270617261677261666F223B693A303B733A31353A226D6F64656C6F5F6461646F735F6964223B693A303B733A363A226D6F64656C6F223B4E3B733A333A22716E74223B693A383B7D,'O memorando é a modalidade de comunicação entre unidades administrativas de um mesmo órgão, que podem estar hierarquicamente em mesmo nível ou em nível diferente. ','memorando_p.gif',10),
(19,'Exposição de Motivos',0x613A393A7B733A353A2263616D706F223B613A393A7B693A313B613A353A7B733A343A227469706F223B733A393A2270726F746F636F6C6F223B733A353A226461646F73223B733A303A22223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A323B613A353A7B733A343A227469706F223B733A363A22636964616465223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A333B613A353A7B733A343A227469706F223B733A343A2264617461223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A343B613A353A7B733A343A227469706F223B733A383A22766F63617469766F223B733A353A226461646F73223B733A313A2231223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A353B613A353A7B733A343A227469706F223B733A353A22746578746F223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A363B613A353A7B733A343A227469706F223B733A353A22626C6F636F223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A373B613A353A7B733A343A227469706F223B733A353A22666563686F223B733A353A226461646F73223B733A313A2231223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A383B613A353A7B733A343A227469706F223B733A31303A22617373696E6174757261223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A393B613A353A7B733A343A227469706F223B733A353A22616E65786F223B733A353A226461646F73223B733A303A22223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D7D733A31313A226D6F64656C6F5F7469706F223B733A323A223139223B733A363A2265646963616F223B623A303B733A393A22696D7072657373616F223B623A303B733A393A226D6F64656C6F5F6964223B693A303B733A393A2270617261677261666F223B693A303B733A31353A226D6F64656C6F5F6461646F735F6964223B693A303B733A363A226D6F64656C6F223B4E3B733A333A22716E74223B693A393B7D,'Exposição de motivos é o expediente dirigido ao Presidente da República ou ao Vice-Presidente para informá-lo de determinado assunto, propor alguma medida ou submeter a sua consideração projeto de ato normativo.','exposicao_p.gif',10),
(20,'Mensagem',0x613A393A7B733A353A2263616D706F223B613A373A7B693A313B613A353A7B733A343A227469706F223B733A393A2270726F746F636F6C6F223B733A353A226461646F73223B733A303A22223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A323B613A353A7B733A343A227469706F223B733A383A22766F63617469766F223B733A353A226461646F73223B733A313A2231223B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A333B613A353A7B733A343A227469706F223B733A353A22746578746F223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A343B613A353A7B733A343A227469706F223B733A353A22626C6F636F223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A353B613A353A7B733A343A227469706F223B733A363A22636964616465223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A363B613A353A7B733A343A227469706F223B733A343A2264617461223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D693A373B613A353A7B733A343A227469706F223B733A353A22616E65786F223B733A353A226461646F73223B4E3B733A353A226578747261223B733A303A22223B733A383A226C6172675F6D6178223B733A303A22223B733A31313A226F7574726F5F63616D706F223B733A303A22223B7D7D733A31313A226D6F64656C6F5F7469706F223B733A323A223230223B733A363A2265646963616F223B623A303B733A393A22696D7072657373616F223B623A303B733A393A226D6F64656C6F5F6964223B693A303B733A393A2270617261677261666F223B693A303B733A31353A226D6F64656C6F5F6461646F735F6964223B693A303B733A363A226D6F64656C6F223B4E3B733A333A22716E74223B693A373B7D,'A mensagem é o instrumento de comunicação oficial entre os Chefes dos Poderes Públicos, notadamente as mensagens enviadas pelo Chefe do Poder Executivo ao Poder Legislativo para informar sobre fato da Administração Pública; expor o plano de governo por ocasião da abertura de sessão legislativa; submeter ao Congresso Nacional matérias que dependem de deliberação de suas Casas;','mensagem_p.gif',10);


INSERT INTO artefatos_tipo (artefato_tipo_id, artefato_tipo_nome, artefato_tipo_campos, artefato_tipo_descricao, artefato_tipo_imagem) VALUES 
   (14,'Mensuração do Tamanho do Projeto (MTP)',0x613A393A7B733A353A2263616D706F223B613A31373A7B693A313B613A323A7B733A343A227469706F223B733A343A226C6F676F223B733A353A226461646F73223B733A31313A2264656D616E64615F636961223B7D693A323B613A323A7B733A343A227469706F223B733A393A226361626563616C686F223B733A353A226461646F73223B733A31313A2264656D616E64615F636961223B7D693A333B613A323A7B733A343A227469706F223B733A31323A226E6F6D655F7573756172696F223B733A353A226461646F73223B733A31353A2264656D616E64615F7573756172696F223B7D693A343B613A323A7B733A343A227469706F223B733A31323A22646570745F7573756172696F223B733A353A226461646F73223B733A31353A2264656D616E64615F7573756172696F223B7D693A353B613A323A7B733A343A227469706F223B733A31333A22656D61696C5F7573756172696F223B733A353A226461646F73223B733A31353A2264656D616E64615F7573756172696F223B7D693A363B613A323A7B733A343A227469706F223B733A31363A2274656C65666F6E655F7573756172696F223B733A353A226461646F73223B733A31353A2264656D616E64615F7573756172696F223B7D693A373B613A323A7B733A343A227469706F223B733A31333A22626C6F636F5F73696D706C6573223B733A353A226461646F73223B733A31323A2264656D616E64615F6E6F6D65223B7D693A383B613A323A7B733A343A227469706F223B733A31343A226C697374615F657370656369616C223B733A353A226461646F73223B733A32303A2264656D616E64615F636F6D706C65786964616465223B7D693A393B613A323A7B733A343A227469706F223B733A31343A226C697374615F657370656369616C223B733A353A226461646F73223B733A31333A2264656D616E64615F637573746F223B7D693A31303B613A323A7B733A343A227469706F223B733A31343A226C697374615F657370656369616C223B733A353A226461646F73223B733A31333A2264656D616E64615F74656D706F223B7D693A31313B613A323A7B733A343A227469706F223B733A31343A226C697374615F657370656369616C223B733A353A226461646F73223B733A31383A2264656D616E64615F7365727669646F726573223B7D693A31323B613A323A7B733A343A227469706F223B733A31343A226C697374615F657370656369616C223B733A353A226461646F73223B733A32333A2264656D616E64615F7265637572736F5F65787465726E6F223B7D693A31333B613A323A7B733A343A227469706F223B733A31343A226C697374615F657370656369616C223B733A353A226461646F73223B733A32303A2264656D616E64615F696E7465726C69676163616F223B7D693A31343B613A323A7B733A343A227469706F223B733A31343A226C697374615F657370656369616C223B733A353A226461646F73223B733A31353A2264656D616E64615F74616D616E686F223B7D693A31353B613A323A7B733A343A227469706F223B733A31323A226E6F6D655F7573756172696F223B733A353A226461646F73223B733A31383A2264656D616E64615F6D656E73757261646F72223B7D693A31363B613A323A7B733A343A227469706F223B733A31343A2266756E63616F5F7573756172696F223B733A353A226461646F73223B733A31383A2264656D616E64615F6D656E73757261646F72223B7D693A31373B613A323A7B733A343A227469706F223B733A343A2264617461223B733A353A226461646F73223B733A32333A2264656D616E64615F6D656E7375726163616F5F64617461223B7D7D733A31313A226D6F64656C6F5F7469706F223B733A323A223134223B733A363A2265646963616F223B623A303B733A393A22696D7072657373616F223B623A303B733A393A226D6F64656C6F5F6964223B693A303B733A393A2270617261677261666F223B693A303B733A31353A226D6F64656C6F5F6461646F735F6964223B693A303B733A363A226D6F64656C6F223B4E3B733A333A22716E74223B693A31373B7D,'','');


INSERT INTO sisvalores (sisvalor_titulo, sisvalor_valor, sisvalor_valor_id, sisvalor_chave_id_pai) VALUES 
  ('ProjetoTamanho','Pequeno',1,NULL),
  ('ProjetoTamanho','Médio',2,NULL),
  ('ProjetoTamanho','Grande',3,NULL);
  
DROP TABLE IF EXISTS tema;
  
CREATE TABLE tema (
  tema_id INTEGER(100) UNSIGNED NOT NULL AUTO_INCREMENT,
  tema_cia INTEGER(100) UNSIGNED DEFAULT NULL,
  tema_perspectiva INTEGER(100) UNSIGNED DEFAULT NULL,
  tema_usuario INTEGER(100) UNSIGNED DEFAULT NULL,
  tema_superior INTEGER(100) UNSIGNED DEFAULT NULL,
  tema_nome VARCHAR(250) DEFAULT '',
  tema_data DATETIME DEFAULT NULL,
  tema_ordem INTEGER(100) UNSIGNED DEFAULT NULL,
  tema_acesso INTEGER(100) UNSIGNED DEFAULT '0',
  tema_cor VARCHAR(6) DEFAULT 'FFFFFF',
  tema_oque TEXT,
  tema_descricao TEXT,
  tema_onde TEXT,
  tema_quando TEXT,
  tema_como TEXT,
  tema_porque TEXT,
  tema_quanto TEXT,
  tema_quem TEXT,
  tema_controle TEXT,
  tema_melhorias TEXT,
  tema_metodo_aprendizado TEXT,
  tema_desde_quando TEXT,
  tema_ativo TINYINT(1) DEFAULT '1',
  tema_tipo VARCHAR(50) DEFAULT NULL,
  PRIMARY KEY (tema_id),
  UNIQUE KEY tema_id (tema_id),
  KEY tema_cia (tema_cia),
  KEY tema_superior (tema_superior),
  KEY tema_usuario (tema_usuario),
  KEY tema_perspectiva (tema_perspectiva),
  CONSTRAINT tema_fk FOREIGN KEY (tema_cia) REFERENCES cias (cia_id) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT tema_fk1 FOREIGN KEY (tema_superior) REFERENCES tema (tema_id) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT tema_fk2 FOREIGN KEY (tema_usuario) REFERENCES usuarios (usuario_id) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT tema_fk3 FOREIGN KEY (tema_perspectiva) REFERENCES perspectivas (pg_perspectiva_id) ON DELETE CASCADE ON UPDATE CASCADE
)ENGINE=InnoDB;  

DROP TABLE IF EXISTS tema_depts;

CREATE TABLE tema_depts (
  tema_id INTEGER(100) UNSIGNED NOT NULL DEFAULT '0',
  dept_id INTEGER(100) UNSIGNED NOT NULL DEFAULT '0',
  PRIMARY KEY (tema_id, dept_id),
  KEY tema_id (tema_id),
  KEY dept_id (dept_id),
  CONSTRAINT tema_depts_fk FOREIGN KEY (tema_id) REFERENCES tema (tema_id) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT tema_depts_fk1 FOREIGN KEY (dept_id) REFERENCES depts (dept_id) ON DELETE CASCADE ON UPDATE CASCADE
)ENGINE=InnoDB;

DROP TABLE IF EXISTS tema_usuarios;

CREATE TABLE tema_usuarios (
  tema_id INTEGER(100) UNSIGNED NOT NULL DEFAULT '0',
  usuario_id INTEGER(100) UNSIGNED NOT NULL DEFAULT '0',
  PRIMARY KEY (tema_id, usuario_id),
  KEY tema_id (tema_id),
  KEY usuario_id (usuario_id),
  CONSTRAINT tema_usuarios_fk FOREIGN KEY (tema_id) REFERENCES tema (tema_id) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT tema_usuarios_fk1 FOREIGN KEY (usuario_id) REFERENCES usuarios (usuario_id) ON DELETE CASCADE ON UPDATE CASCADE
)ENGINE=InnoDB;

DROP TABLE IF EXISTS tema_log;

CREATE TABLE tema_log (
  tema_log_id INTEGER(100) UNSIGNED NOT NULL AUTO_INCREMENT,
  tema_log_tema INTEGER(100) UNSIGNED DEFAULT NULL,
  tema_log_criador INTEGER(100) UNSIGNED DEFAULT NULL,
  tema_log_horas FLOAT DEFAULT NULL,
  tema_log_descricao TEXT,
  tema_log_custo FLOAT(100,3) DEFAULT 0,
  tema_log_nd VARCHAR(11) DEFAULT NULL,
  tema_log_categoria_economica VARCHAR(1) DEFAULT NULL,
  tema_log_grupo_despesa VARCHAR(1) DEFAULT NULL,
  tema_log_modalidade_aplicacao VARCHAR(2) DEFAULT NULL,
  tema_log_problema TINYINT(1) DEFAULT '0',
  tema_log_referencia INTEGER(11) DEFAULT NULL,
  tema_log_nome VARCHAR(200) DEFAULT NULL,
  tema_log_data DATETIME DEFAULT NULL,
  tema_log_url_relacionada VARCHAR(250) DEFAULT NULL,
  tema_log_acesso INTEGER(100) DEFAULT '0',
  PRIMARY KEY (tema_log_id),
  KEY tema_log_tema (tema_log_tema),
  KEY tema_log_criador (tema_log_criador),
  CONSTRAINT tema_log_fk FOREIGN KEY (tema_log_tema) REFERENCES tema (tema_id) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT tema_log_fk1 FOREIGN KEY (tema_log_criador) REFERENCES usuarios (usuario_id) ON DELETE SET NULL ON UPDATE CASCADE
)ENGINE=InnoDB;

DROP TABLE IF EXISTS plano_gestao_tema;

CREATE TABLE plano_gestao_tema (
  pg_id INTEGER(100) UNSIGNED DEFAULT NULL,
  tema_id INTEGER(100) UNSIGNED DEFAULT NULL,
  tema_ordem INTEGER(100) UNSIGNED DEFAULT NULL,
  KEY pg_id (pg_id),
  KEY tema_id (tema_id),
  CONSTRAINT plano_gestao_tema_fk FOREIGN KEY (pg_id) REFERENCES plano_gestao (pg_id) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT plano_gestao_tema_fk1 FOREIGN KEY (tema_id) REFERENCES tema (tema_id) ON DELETE CASCADE ON UPDATE CASCADE
)ENGINE=InnoDB;

DROP TABLE IF EXISTS causa_efeito_tema;

CREATE TABLE causa_efeito_tema (
  causa_efeito_id INTEGER(100) UNSIGNED DEFAULT NULL,
  tema_id INTEGER(100) UNSIGNED DEFAULT NULL,
  KEY causa_efeito_id (causa_efeito_id),
  KEY tema_id (tema_id),
  CONSTRAINT causa_efeito_tema_fk FOREIGN KEY (causa_efeito_id) REFERENCES causa_efeito (causa_efeito_id) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT causa_efeito_tema_fk1 FOREIGN KEY (tema_id) REFERENCES tema (tema_id) ON DELETE CASCADE ON UPDATE CASCADE
)ENGINE=InnoDB;

DROP TABLE IF EXISTS gut_tema;

CREATE TABLE gut_tema (
  gut_id INTEGER(100) UNSIGNED DEFAULT NULL,
  tema_id INTEGER(100) UNSIGNED DEFAULT NULL,
  KEY gut_id (gut_id),
  KEY tema_id (tema_id),
  CONSTRAINT gut_tema_fk FOREIGN KEY (gut_id) REFERENCES gut (gut_id) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT gut_tema_fk1 FOREIGN KEY (tema_id) REFERENCES tema (tema_id) ON DELETE CASCADE ON UPDATE CASCADE
)ENGINE=InnoDB;


DROP TABLE IF EXISTS brainstorm_tema;

CREATE TABLE brainstorm_tema (
  brainstorm_id INTEGER(100) UNSIGNED DEFAULT NULL,
  tema_id INTEGER(100) UNSIGNED DEFAULT NULL,
  KEY brainstorm_id (brainstorm_id),
  KEY tema_id (tema_id),
  CONSTRAINT brainstorm_tema_fk1 FOREIGN KEY (tema_id) REFERENCES tema (tema_id),
  CONSTRAINT brainstorm_tema_fk FOREIGN KEY (brainstorm_id) REFERENCES brainstorm (brainstorm_id) ON DELETE CASCADE ON UPDATE CASCADE
)ENGINE=InnoDB;


INSERT INTO config (config_nome, config_valor, config_grupo, config_tipo) VALUES 
	('qnt_tema','30','qnt','text');
	
	
ALTER TABLE objetivos_estrategicos ADD COLUMN pg_objetivo_estrategico_tema INTEGER(100) UNSIGNED DEFAULT NULL;
ALTER TABLE objetivos_estrategicos ADD KEY pg_objetivo_estrategico_tema (pg_objetivo_estrategico_tema);

ALTER TABLE baseline_projetos ADD COLUMN projeto_tema INTEGER(100) UNSIGNED DEFAULT NULL;


ALTER TABLE arquivos ADD COLUMN arquivo_tema INTEGER(100) UNSIGNED DEFAULT NULL;
ALTER TABLE arquivos ADD KEY arquivo_tema (arquivo_tema);
ALTER TABLE arquivos ADD CONSTRAINT arquivo_fk12 FOREIGN KEY (arquivo_tema) REFERENCES tema (tema_id) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE eventos ADD COLUMN evento_tema INTEGER(100) UNSIGNED DEFAULT NULL;
ALTER TABLE eventos ADD KEY evento_tema (evento_tema);
ALTER TABLE eventos ADD CONSTRAINT eventos_fk12 FOREIGN KEY (evento_tema) REFERENCES tema (tema_id) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE foruns ADD COLUMN forum_tema INTEGER(100) UNSIGNED DEFAULT NULL;
ALTER TABLE foruns ADD KEY forum_tema (forum_tema);
ALTER TABLE foruns ADD CONSTRAINT forum_fk12 FOREIGN KEY (forum_tema) REFERENCES tema (tema_id) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE links ADD COLUMN link_tema INTEGER(100) UNSIGNED DEFAULT NULL;
ALTER TABLE links ADD KEY link_tema (link_tema);
ALTER TABLE links ADD CONSTRAINT link_fk12 FOREIGN KEY (link_tema) REFERENCES tema (tema_id) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE arquivo_pastas ADD COLUMN arquivo_pasta_tema INTEGER(100) UNSIGNED DEFAULT NULL;
ALTER TABLE arquivo_pastas ADD KEY arquivo_pasta_tema (arquivo_pasta_tema);
ALTER TABLE arquivo_pastas ADD CONSTRAINT arquivo_pasta_fk12 FOREIGN KEY (arquivo_pasta_tema) REFERENCES tema (tema_id) ON DELETE CASCADE ON UPDATE CASCADE;


ALTER TABLE pratica_indicador ADD COLUMN pratica_indicador_tema INTEGER(100) UNSIGNED DEFAULT NULL;
ALTER TABLE pratica_indicador ADD KEY pratica_indicador_tema (pratica_indicador_tema);
ALTER TABLE pratica_indicador ADD CONSTRAINT pratica_indicador_fk18 FOREIGN KEY (pratica_indicador_tema) REFERENCES tema (tema_id) ON DELETE CASCADE ON UPDATE CASCADE;


ALTER TABLE plano_acao ADD COLUMN plano_acao_tema INTEGER(100) UNSIGNED DEFAULT NULL;
ALTER TABLE plano_acao ADD KEY plano_acao_tema (plano_acao_tema);
ALTER TABLE plano_acao ADD CONSTRAINT plano_acao_fk11 FOREIGN KEY (plano_acao_tema) REFERENCES tema (tema_id) ON DELETE CASCADE ON UPDATE CASCADE;